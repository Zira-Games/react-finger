{"version":3,"file":"develop.js","sources":["../../src/core/FingerEventTimer.ts","../../src/core/FingerOptions.ts","../../src/core/FingerUtils.ts","../../src/core/FingerGlobal.ts","../../src/core/FingerProviders.ts","../../node_modules/tslib/tslib.es6.js","../../src/core/FingerEventWrapper.ts","../../src/core/FingerPointerEvents.ts","../../src/events/FingerPinchProvider.ts","../../src/events/FingerBasicProvider.ts","../../src/events/FingerSwipeProvider.ts","../../src/events/FingerTapProvider.ts","../../src/core/FingerKeyboardEvents.ts","../../src/events/FingerShortcutProvider.ts","../../src/core/FingerContext.ts","../../src/core/FingerCompose.ts","../../src/helpers/FingerHook.ts","../../src/helpers/FingerHelperUtils.ts","../../src/helpers/FingerHoC.ts","../../node_modules/eify/dist/es/AbstractEventEmitter.js","../../node_modules/eify/dist/es/EventEmitter.js","../../node_modules/eify/dist/es/DOMEventEmitter.js","../../src/helpers/FingerProxy.ts","../../src/index.ts","../../node_modules/react-dom/client.js","../../examples/develop.tsx"],"sourcesContent":["/**\r\n * @homepage https://github.com/Houfeng/react-finger\r\n * @author Houfeng <houzhanfeng@gmail.com>\r\n */\r\n\r\ntype Timer = number | NodeJS.Timeout;\r\n\r\nconst eventTimerOwner = new Set<Timer>();\r\n\r\nexport function createEventTimer(fn: () => void, timeout: number) {\r\n  const timer = setTimeout(() => {\r\n    clearEventTimer(timer);\r\n    fn();\r\n  }, timeout);\r\n  eventTimerOwner.add(timer);\r\n  return timer;\r\n}\r\n\r\nexport function clearEventTimer(timer: Timer) {\r\n  clearTimeout(timer as number);\r\n  return eventTimerOwner.delete(timer);\r\n}\r\n\r\nexport function clearAllEventTimers() {\r\n  Array.from(eventTimerOwner).forEach((timer) => clearEventTimer(timer));\r\n}\r\n","/**\r\n * @homepage https://github.com/Houfeng/react-finger\r\n * @author Houfeng <houzhanfeng@gmail.com>\r\n */\r\n\r\nexport const FingerOptions = {\r\n  /**\r\n   * 清理全局副作用时间阈值\r\n   */\r\n  cleanGlobalEffectsThreshold: 100,\r\n\r\n  /**\r\n   * swipe 最大时间阈值\r\n   */\r\n  swipeMaxDurationThreshold: 600,\r\n\r\n  /**\r\n   * swipe 最小距离阈值\r\n   */\r\n  swipeMinDistanceThreshold: 25,\r\n\r\n  /**\r\n   * tap 最大距离阈值\r\n   */\r\n  tapMaxDistanceThreshold: 10,\r\n\r\n  /**\r\n   * hold 触发时间阈值\r\n   */\r\n  holdDurationThreshold: 600,\r\n\r\n  /**\r\n   * 双击 触发间隔阈值\r\n   */\r\n  dblIntervalThreshold: 500,\r\n};\r\n","/**\r\n * @homepage https://github.com/Houfeng/react-finger\r\n * @author Houfeng <houzhanfeng@gmail.com>\r\n */\r\n\r\nexport type AnyFunction = (...args: any) => any;\r\n\r\nexport function isFunction(value: unknown): value is AnyFunction {\r\n  return typeof value === \"function\";\r\n}\r\n\r\nexport type PointerPointLike = {\r\n  clientX: number;\r\n  clientY: number;\r\n};\r\n\r\nexport function calcDistance(from: PointerPointLike, to: PointerPointLike) {\r\n  if (!from || !to) return 0;\r\n  const x = from.clientX - to.clientX;\r\n  const y = from.clientY - to.clientY;\r\n  return Math.sqrt(x * x + y * y);\r\n}\r\n\r\nexport function calcCenter(\r\n  pointer1: PointerPointLike,\r\n  pointer2: PointerPointLike\r\n): PointerPointLike {\r\n  const maxX = Math.max(pointer1.clientX, pointer2.clientX);\r\n  const minX = Math.min(pointer1.clientX, pointer2.clientX);\r\n  const clientX = minX + (maxX - minX) / 2;\r\n  const maxY = Math.max(pointer1.clientY, pointer2.clientY);\r\n  const minY = Math.min(pointer1.clientY, pointer2.clientY);\r\n  const clientY = minY + (maxY - minY) / 2;\r\n  return { clientX, clientY };\r\n}\r\n\r\nexport function calcRotate(\r\n  pointer1: PointerPointLike,\r\n  pointer2: PointerPointLike\r\n) {\r\n  const radians = Math.atan2(\r\n    pointer2.clientY - pointer1.clientY,\r\n    pointer2.clientX - pointer1.clientX\r\n  );\r\n  const degrees = radians * (180 / Math.PI);\r\n  return degrees;\r\n}\r\n\r\nexport const isIPadPro =\r\n  typeof navigator !== \"undefined\" &&\r\n  navigator.platform?.match(\"Mac\") &&\r\n  (navigator.maxTouchPoints || 0) > 1;\r\n\r\nexport const isIOS =\r\n  (typeof navigator !== \"undefined\" &&\r\n    /(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)) ||\r\n  isIPadPro;\r\n","/**\r\n * @homepage https://github.com/Houfeng/react-finger\r\n * @author Houfeng <houzhanfeng@gmail.com>\r\n */\r\n\r\nimport { clearAllEventTimers } from \"./FingerEventTimer\";\r\nimport { FingerOptions } from \"./FingerOptions\";\r\nimport { calcDistance } from \"./FingerUtils\";\r\n\r\nexport const FingerGlobal = {\r\n  activePointersTotal: 0,\r\n  primaryStartPoint: { clientX: 0, clientY: 0 },\r\n  primaryEndPoint: { clientX: 0, clientY: 0 },\r\n  get primaryMoveDistance() {\r\n    const { primaryStartPoint, primaryEndPoint } = FingerGlobal;\r\n    return calcDistance(primaryStartPoint, primaryEndPoint);\r\n  },\r\n};\r\n\r\nfunction cleanGlobalEffects() {\r\n  clearAllEventTimers();\r\n}\r\n\r\nfunction onPointerStart(event: PointerEvent) {\r\n  FingerGlobal.activePointersTotal++;\r\n  if (event.isPrimary) {\r\n    const { clientX, clientY } = event;\r\n    FingerGlobal.primaryStartPoint = { clientX, clientY };\r\n    FingerGlobal.primaryEndPoint = { clientX, clientY };\r\n  }\r\n}\r\n\r\nfunction onPointerMove(event: PointerEvent) {\r\n  if (event.isPrimary && FingerGlobal.activePointersTotal > 0) {\r\n    const { clientX, clientY } = event;\r\n    FingerGlobal.primaryEndPoint = { clientX, clientY };\r\n  }\r\n}\r\n\r\nfunction onPointerEnd(event: PointerEvent) {\r\n  if (event.isPrimary) {\r\n    const { clientX, clientY } = event;\r\n    FingerGlobal.primaryEndPoint = { clientX, clientY };\r\n  }\r\n  FingerGlobal.activePointersTotal--;\r\n  if (FingerGlobal.activePointersTotal < 1) {\r\n    setTimeout(cleanGlobalEffects, FingerOptions.cleanGlobalEffectsThreshold);\r\n  }\r\n}\r\n\r\nexport function bindFingerGlobalEvents() {\r\n  if (typeof document === \"undefined\") return;\r\n  // unbind\r\n  document.removeEventListener(\"pointerdown\", onPointerStart, true);\r\n  document.removeEventListener(\"pointermove\", onPointerMove, true);\r\n  document.removeEventListener(\"pointerup\", onPointerEnd, true);\r\n  document.removeEventListener(\"pointercancel\", onPointerEnd, true);\r\n  // bind\r\n  document.addEventListener(\"pointerdown\", onPointerStart, true);\r\n  document.addEventListener(\"pointermove\", onPointerMove, true);\r\n  document.addEventListener(\"pointerup\", onPointerEnd, true);\r\n  document.addEventListener(\"pointercancel\", onPointerEnd, true);\r\n}\r\n\r\nbindFingerGlobalEvents();\r\n","/**\r\n * @homepage https://github.com/Houfeng/react-finger\r\n * @author Houfeng <houzhanfeng@gmail.com>\r\n */\r\n\r\nimport { FingerKeyboardContext, FingerPointerContext } from \"./FingerContext\";\r\nimport {\r\n  HostFocusEvent,\r\n  HostKeyboardEvent,\r\n  HostPointerEvent,\r\n} from \"./FingerHostEvents\";\r\n\r\nimport { FingerKeyboardEvents } from \"./FingerKeyboardEvents\";\r\nimport { FingerPointerEvents } from \"./FingerPointerEvents\";\r\n\r\nexport type FingerProviderPointerParams = {\r\n  events: Partial<FingerPointerEvents>;\r\n  context: FingerPointerContext;\r\n  pointer: HostPointerEvent;\r\n};\r\n\r\nexport type FingerProviderPointerHandler = (\r\n  params: FingerProviderPointerParams\r\n) => void;\r\n\r\nexport type FingerProviderKeyboardParams = {\r\n  events: Partial<FingerKeyboardEvents>;\r\n  context: FingerKeyboardContext;\r\n  event: HostKeyboardEvent;\r\n};\r\n\r\nexport type FingerProviderKeyboardHandler = (\r\n  params: FingerProviderKeyboardParams\r\n) => void;\r\n\r\nexport type FingerProviderFocusParams = {\r\n  events: Partial<FingerKeyboardEvents>;\r\n  context: FingerKeyboardContext;\r\n  event: HostFocusEvent;\r\n};\r\n\r\nexport type FingerProviderFocusHandler = (\r\n  params: FingerProviderFocusParams\r\n) => void;\r\n\r\nexport type FingerProvider<\r\n  N extends string = string,\r\n  E extends string = string\r\n> = Partial<{\r\n  handlePointerWillDown: FingerProviderPointerHandler;\r\n  handlePointerDown: FingerProviderPointerHandler;\r\n  handlePointerWillMove: FingerProviderPointerHandler;\r\n  handlePointerMove: FingerProviderPointerHandler;\r\n  handlePointerWillUp: FingerProviderPointerHandler;\r\n  handlePointerUp: FingerProviderPointerHandler;\r\n  handlePointerWillCancel: FingerProviderPointerHandler;\r\n  handlePointerCancel: FingerProviderPointerHandler;\r\n  handleKeyDown: FingerProviderKeyboardHandler;\r\n  handleKeyUp: FingerProviderKeyboardHandler;\r\n  handleFocus: FingerProviderFocusHandler;\r\n  handleBlur: FingerProviderFocusHandler;\r\n}> & { name: N; events: E[] };\r\n\r\nconst providers = new Set<FingerProvider<string, string>>();\r\n\r\nconst eventNames = new Set([\r\n  \"onPointerDown\",\r\n  \"onPointerMove\",\r\n  \"onPointerUp\",\r\n  \"onPointerCancel\",\r\n  \"onKeyDown\",\r\n  \"onKeyUp\",\r\n  \"onFocus\",\r\n  \"onBlur\",\r\n]);\r\n\r\nexport function registerFingerProvider(\r\n  provider: FingerProvider<string, string>\r\n) {\r\n  providers.add(provider);\r\n  provider.events.forEach((name) => eventNames.add(name));\r\n}\r\n\r\nexport function getAllFingerProviders() {\r\n  return providers;\r\n}\r\n\r\nexport function getAllEventNames() {\r\n  return eventNames;\r\n}\r\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\r\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\r\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose, inner;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n            if (async) inner = dispose;\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    var r, s = 0;\r\n    function next() {\r\n        while (r = env.stack.pop()) {\r\n            try {\r\n                if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\r\n                if (r.dispose) {\r\n                    var result = r.dispose.call(r.value);\r\n                    if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n                }\r\n                else s |= 1;\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n};\r\n","/**\r\n * @homepage https://github.com/Houfeng/react-finger\r\n * @author Houfeng <houzhanfeng@gmail.com>\r\n */\r\n\r\nimport { HostKeyboardEvent, HostPointerEvent } from \"./FingerHostEvents\";\r\n\r\nimport { clearAllEventTimers } from \"./FingerEventTimer\";\r\nimport { isFunction } from \"./FingerUtils\";\r\n\r\n/**\r\n * stopPropagation、stopImmediatePropagation\r\n * 以上两个需要清理 timer ，所以不列在此处\r\n */\r\nconst POINTER_EVENT_KEYS = [\r\n  \"nativeEvent\",\r\n  \"pointerId\",\r\n  \"width\",\r\n  \"height\",\r\n  \"pressure\",\r\n  \"tiltX\",\r\n  \"tiltY\",\r\n  \"twist\",\r\n  \"pointerType\",\r\n  \"isPrimary\",\r\n  \"screenX\",\r\n  \"screenY\",\r\n  \"clientX\",\r\n  \"clientY\",\r\n  \"ctrlKey\",\r\n  \"shiftKey\",\r\n  \"altKey\",\r\n  \"metaKey\",\r\n  \"button\",\r\n  \"buttons\",\r\n  \"pageX\",\r\n  \"pageY\",\r\n  \"offsetX\",\r\n  \"offsetY\",\r\n  \"movementX\",\r\n  \"movementY\",\r\n  \"type\",\r\n  \"target\",\r\n  \"currentTarget\",\r\n  \"bubbles\",\r\n  \"cancelable\",\r\n  \"timeStamp\",\r\n  \"cancelBubble\",\r\n  \"composedPath\",\r\n  \"preventDefault\",\r\n  \"eventPhase\",\r\n  \"isDefaultPrevented\",\r\n  \"isPropagationStopped\",\r\n  \"isTrusted\",\r\n  \"defaultPrevented\",\r\n  \"getModifierState\",\r\n  \"location\",\r\n  \"path\",\r\n  \"view\",\r\n  \"charCode\",\r\n  \"code\",\r\n  \"key\",\r\n  \"keyCode\",\r\n  \"which\",\r\n  \"repeat\",\r\n];\r\n\r\nconst EventWrapperPrototype = {\r\n  stopImmediatePropagation() {\r\n    clearAllEventTimers();\r\n    this.hostEvent?.stopImmediatePropagation?.();\r\n  },\r\n  stopPropagation() {\r\n    clearAllEventTimers();\r\n    this.hostEvent?.stopPropagation?.();\r\n  },\r\n};\r\n\r\nPOINTER_EVENT_KEYS.forEach((key) => {\r\n  Object.defineProperty(EventWrapperPrototype, key, {\r\n    get: function () {\r\n      const value = this.hostEvent[key];\r\n      return isFunction(value) ? value.bind(this.hostEvent) : value;\r\n    },\r\n  });\r\n});\r\n\r\nexport function createEventWrapper<T extends object>(\r\n  hostEvent: HostPointerEvent | HostKeyboardEvent,\r\n  fields?: Record<string, unknown>\r\n): T {\r\n  const wrapper = fields ? fields : {};\r\n  Object.setPrototypeOf(wrapper, EventWrapperPrototype);\r\n  wrapper.hostEvent = hostEvent;\r\n  return wrapper as T;\r\n}\r\n","/**\r\n * @homepage https://github.com/Houfeng/react-finger\r\n * @author Houfeng <houzhanfeng@gmail.com>\r\n */\r\n\r\nimport { FingerPointer } from \"./FingerContext\";\r\nimport { HostElement, HostPointerEvent } from \"./FingerHostEvents\";\r\nimport { createEventWrapper } from \"./FingerEventWrapper\";\r\n\r\nexport type FingerPointerEventDetail<T> = {\r\n  pointers: FingerPointer[];\r\n  changedPointers: FingerPointer[];\r\n} & T;\r\n\r\nexport type FingerPointerEvent<\r\n  T extends HostElement = HostElement,\r\n  D extends object = {}\r\n> = HostPointerEvent<T> & {\r\n  hostEvent: HostPointerEvent<T>;\r\n  fingerType: keyof FingerPointerEvents<T>;\r\n  detail: FingerPointerEventDetail<D>;\r\n} & FingerPointerEventDetail<D>;\r\n\r\nexport type FingerPointerEventListener<E extends FingerPointerEvent> = (\r\n  event: E\r\n) => void;\r\n\r\nexport type FingerSwipeEvent<T extends HostElement = HostElement> =\r\n  FingerPointerEvent<\r\n    T,\r\n    {\r\n      direction: \"up\" | \"right\" | \"down\" | \"left\";\r\n    }\r\n  >;\r\n\r\nexport type FingerPinchEvent<T extends HostElement = HostElement> =\r\n  FingerPointerEvent<\r\n    T,\r\n    {\r\n      centerX: number;\r\n      centerY: number;\r\n      scale: number;\r\n      moveX: number;\r\n      moveY: number;\r\n      movementX: number;\r\n      movementY: number;\r\n      rotate: number;\r\n    }\r\n  >;\r\n\r\nexport type FingerTapEvent<T extends HostElement = HostElement> =\r\n  FingerPointerEvent<T, {}>;\r\n\r\nexport type FingerPointerEvents<T extends HostElement = HostElement> = {\r\n  onFingerDown: FingerPointerEventListener<FingerPointerEvent<T>>;\r\n  onFingerMove: FingerPointerEventListener<FingerPointerEvent<T>>;\r\n  onFingerUp: FingerPointerEventListener<FingerPointerEvent<T>>;\r\n  onFingerCancel: FingerPointerEventListener<FingerPointerEvent<T>>;\r\n  onTap: FingerPointerEventListener<FingerTapEvent<T>>;\r\n  onTapHold: FingerPointerEventListener<FingerTapEvent<T>>;\r\n  onDoubleTap: FingerPointerEventListener<FingerTapEvent<T>>;\r\n  onSwipe: FingerPointerEventListener<FingerSwipeEvent<T>>;\r\n  onSwipeUp: FingerPointerEventListener<FingerSwipeEvent<T>>;\r\n  onSwipeRight: FingerPointerEventListener<FingerSwipeEvent<T>>;\r\n  onSwipeDown: FingerPointerEventListener<FingerSwipeEvent<T>>;\r\n  onSwipeLeft: FingerPointerEventListener<FingerSwipeEvent<T>>;\r\n  onPinchStart: FingerPointerEventListener<FingerPinchEvent<T>>;\r\n  onPinch: FingerPointerEventListener<FingerPinchEvent<T>>;\r\n  onPinchEnd: FingerPointerEventListener<FingerPinchEvent<T>>;\r\n};\r\n\r\nexport function FingerPointerEvent<\r\n  T extends HostElement,\r\n  F extends keyof FingerPointerEvents<T>\r\n>(\r\n  fingerType: F,\r\n  hostEvent: HostPointerEvent<T>,\r\n  detail: Parameters<FingerPointerEvents<T>[F]>[0][\"detail\"]\r\n): FingerPointerEvent<T, Parameters<FingerPointerEvents<T>[F]>[0][\"detail\"]> {\r\n  hostEvent.persist?.();\r\n  const fingerEvent = createEventWrapper<any>(hostEvent, {\r\n    ...detail,\r\n    fingerType,\r\n    detail,\r\n  });\r\n  return fingerEvent;\r\n}\r\n","/**\r\n * @homepage https://github.com/Houfeng/react-finger\r\n * @author Houfeng <houzhanfeng@gmail.com>\r\n */\r\n\r\nimport {\r\n  FingerPinchEvent,\r\n  FingerPointerEvent,\r\n} from \"../core/FingerPointerEvents\";\r\nimport {\r\n  PointerPointLike,\r\n  calcCenter,\r\n  calcDistance,\r\n  calcRotate,\r\n} from \"../core/FingerUtils\";\r\n\r\nimport { FingerProvider } from \"../core/FingerProviders\";\r\n\r\nconst PINCHING = Symbol();\r\nconst DETAIL = Symbol();\r\nconst ORIGIN_DIST = Symbol();\r\nconst ORIGIN_CENTER = Symbol();\r\nconst LATEST_CENTER = Symbol();\r\nconst ORIGIN_ROTATE = Symbol();\r\n\r\nconst ALL_FLAGS = [\r\n  PINCHING,\r\n  DETAIL,\r\n  ORIGIN_DIST,\r\n  ORIGIN_CENTER,\r\n  LATEST_CENTER,\r\n  ORIGIN_ROTATE,\r\n];\r\n\r\nexport const FingerPinchProvider: FingerProvider = {\r\n  name: \"Pinch\",\r\n  events: [\"onPinchStart\", \"onPinch\", \"onPinchEnd\"],\r\n\r\n  handlePointerDown: ({ events, context, pointer }) => {\r\n    pointer.target.setPointerCapture?.(pointer.pointerId);\r\n    if (pointer.isPrimary) context.cleanFlags(ALL_FLAGS);\r\n    const { flags, getPointers, getChangedPointers } = context;\r\n    const pointers = getPointers();\r\n    const changedPointers = getChangedPointers();\r\n    if (pointers.length > 1 && !flags.get(PINCHING)) {\r\n      flags.set(PINCHING, true);\r\n      const dist = calcDistance(pointers[0], pointers[1]);\r\n      flags.set(ORIGIN_DIST, dist);\r\n      const rotate = calcRotate(pointers[0], pointers[1]);\r\n      flags.set(ORIGIN_ROTATE, rotate);\r\n      const center = calcCenter(changedPointers[0], changedPointers[1]);\r\n      flags.set(ORIGIN_CENTER, center);\r\n      flags.set(LATEST_CENTER, center);\r\n      const centerX = center.clientX;\r\n      const centerY = center.clientY;\r\n      const detail = {\r\n        pointers,\r\n        changedPointers,\r\n        centerX,\r\n        centerY,\r\n        scale: 1,\r\n        rotate: 0,\r\n        moveX: 0,\r\n        moveY: 0,\r\n        movementX: 0,\r\n        movementY: 0,\r\n      };\r\n      flags.set(DETAIL, detail);\r\n      events.onPinchStart?.(\r\n        FingerPointerEvent(\"onPinchStart\", pointer, detail)\r\n      );\r\n    }\r\n  },\r\n\r\n  handlePointerMove: ({ events, context, pointer }) => {\r\n    const { flags, getPointers, getChangedPointers } = context;\r\n    const pointers = getPointers();\r\n    const changedPointers = getChangedPointers();\r\n    if (pointers.length < 2 || !flags.get(PINCHING)) return;\r\n    const originDist = flags.get(ORIGIN_DIST) as number;\r\n    const latestDist = calcDistance(changedPointers[0], changedPointers[1]);\r\n    const scale = latestDist / originDist;\r\n    const originCenter = flags.get(ORIGIN_CENTER) as PointerPointLike;\r\n    const prevCenter = flags.get(LATEST_CENTER) as PointerPointLike;\r\n    const latestCenter = calcCenter(changedPointers[0], changedPointers[1]);\r\n    flags.set(LATEST_CENTER, latestCenter);\r\n    const centerX = latestCenter.clientX;\r\n    const centerY = latestCenter.clientY;\r\n    const moveX = latestCenter.clientX - originCenter.clientX;\r\n    const moveY = latestCenter.clientY - originCenter.clientY;\r\n    const movementX = latestCenter.clientX - prevCenter.clientX;\r\n    const movementY = latestCenter.clientY - prevCenter.clientY;\r\n    const originRotate = flags.get(ORIGIN_ROTATE) as number;\r\n    const latestRotate = calcRotate(changedPointers[0], changedPointers[1]);\r\n    const rotate = latestRotate - originRotate;\r\n    const detail = {\r\n      pointers,\r\n      changedPointers,\r\n      centerX,\r\n      centerY,\r\n      scale,\r\n      moveX,\r\n      moveY,\r\n      movementX,\r\n      movementY,\r\n      rotate,\r\n    };\r\n    flags.set(DETAIL, detail);\r\n    events.onPinch?.(FingerPointerEvent(\"onPinch\", pointer, detail));\r\n  },\r\n\r\n  handlePointerWillUp: ({ events, context, pointer }) => {\r\n    pointer.target.releasePointerCapture?.(pointer.pointerId);\r\n    const { flags, getPointers } = context;\r\n    const pointers = getPointers();\r\n    if (pointers.length === 2 && flags.get(PINCHING)) {\r\n      flags.set(PINCHING, false);\r\n      const detail = flags.get(DETAIL) as FingerPinchEvent[\"detail\"];\r\n      events.onPinchEnd?.(FingerPointerEvent(\"onPinchEnd\", pointer, detail));\r\n    }\r\n  },\r\n\r\n  handlePointerWillCancel: ({ events, context, pointer }) => {\r\n    pointer.target.releasePointerCapture?.(pointer.pointerId);\r\n    const { flags, getPointers } = context;\r\n    const pointers = getPointers();\r\n    if (pointers.length === 2 && flags.get(PINCHING)) {\r\n      flags.set(PINCHING, false);\r\n      const detail = flags.get(DETAIL) as FingerPinchEvent[\"detail\"];\r\n      events.onPinchEnd?.(FingerPointerEvent(\"onPinchEnd\", pointer, detail));\r\n    }\r\n  },\r\n};\r\n","/**\r\n * @homepage https://github.com/Houfeng/react-finger\r\n * @author Houfeng <houzhanfeng@gmail.com>\r\n */\r\n\r\nimport { PointerPointLike } from \"../core/FingerUtils\";\r\n\r\nimport { FingerPointerEvent } from \"../core/FingerPointerEvents\";\r\nimport { FingerProvider } from \"../core/FingerProviders\";\r\n\r\nconst LATEST_POS = Symbol();\r\n\r\nconst ALL_FLAGS = [LATEST_POS];\r\n\r\nexport const FingerBasicProvider: FingerProvider = {\r\n  name: \"Basic\",\r\n  events: [\"onFingerDown\", \"onFingerMove\", \"onFingerUp\", \"onFingerCancel\"],\r\n\r\n  handlePointerDown: ({ events, context, pointer }) => {\r\n    if (pointer.isPrimary) context.cleanFlags(ALL_FLAGS);\r\n    context.flags.delete(LATEST_POS);\r\n    if (!events.onFingerDown) return;\r\n    const { getPointers, getChangedPointers } = context;\r\n    const pointers = getPointers();\r\n    const changedPointers = getChangedPointers();\r\n    const detail = { pointers, changedPointers };\r\n    events.onFingerDown(FingerPointerEvent(\"onFingerDown\", pointer, detail));\r\n  },\r\n\r\n  handlePointerMove: ({ events, context, pointer }) => {\r\n    if (!events.onFingerMove) return;\r\n    const { getPointers, getChangedPointers, flags } = context;\r\n    const pointers = getPointers();\r\n    const changedPointers = getChangedPointers();\r\n    if (\r\n      // isIOS &&\r\n      pointer.pointerType !== \"mouse\" &&\r\n      pointers.length === 1\r\n      // !pointer.movementX &&\r\n      // !pointer.movementY\r\n    ) {\r\n      // 让 ios 在上 pointerType !== 'mouse' 但仅单指时兼容 movementX/Y\r\n      const { clientX, clientY } = pointer;\r\n      const prev = (flags.get(LATEST_POS) || pointers[0]) as PointerPointLike;\r\n      const movementX = clientX - prev.clientX;\r\n      const movementY = clientY - prev.clientY;\r\n      const detail = { pointers, changedPointers, movementX, movementY };\r\n      events.onFingerMove(FingerPointerEvent(\"onFingerMove\", pointer, detail));\r\n      flags.set(LATEST_POS, { clientX, clientY });\r\n    } else {\r\n      const detail = { pointers, changedPointers };\r\n      events.onFingerMove(FingerPointerEvent(\"onFingerMove\", pointer, detail));\r\n    }\r\n  },\r\n\r\n  handlePointerUp: ({ events, context, pointer }) => {\r\n    context.flags.delete(LATEST_POS);\r\n    if (!events.onFingerUp) return;\r\n    const { getPointers, getChangedPointers } = context;\r\n    const pointers = getPointers();\r\n    const changedPointers = getChangedPointers();\r\n    const detail = { pointers, changedPointers };\r\n    events.onFingerUp(FingerPointerEvent(\"onFingerUp\", pointer, detail));\r\n  },\r\n\r\n  handlePointerCancel: ({ events, context, pointer }) => {\r\n    context.flags.delete(LATEST_POS);\r\n    if (!events.onFingerCancel) return;\r\n    const { getPointers, getChangedPointers } = context;\r\n    const pointers = getPointers();\r\n    const changedPointers = getChangedPointers();\r\n    const detail = { pointers, changedPointers };\r\n    events.onFingerCancel(\r\n      FingerPointerEvent(\"onFingerCancel\", pointer, detail)\r\n    );\r\n  },\r\n};\r\n","/**\r\n * @homepage https://github.com/Houfeng/react-finger\r\n * @author Houfeng <houzhanfeng@gmail.com>\r\n */\r\n\r\nimport { FingerOptions } from \"../core/FingerOptions\";\r\nimport { FingerPointerEvent } from \"../core/FingerPointerEvents\";\r\nimport { FingerProvider } from \"../core/FingerProviders\";\r\n\r\nconst { swipeMinDistanceThreshold, swipeMaxDurationThreshold } = FingerOptions;\r\n\r\nconst CANCELED = Symbol();\r\nconst START_TIME = Symbol();\r\n\r\nconst ALL_FLAGS = [CANCELED, START_TIME];\r\n\r\ntype SwipeDirection = \"up\" | \"down\" | \"left\" | \"right\";\r\ntype SwipeEventNames =\r\n  | \"onSwipeUp\"\r\n  | \"onSwipeDown\"\r\n  | \"onSwipeLeft\"\r\n  | \"onSwipeRight\";\r\n\r\nconst swipeDirectionToEventNames: Record<SwipeDirection, SwipeEventNames> = {\r\n  down: \"onSwipeDown\",\r\n  up: \"onSwipeUp\",\r\n  right: \"onSwipeRight\",\r\n  left: \"onSwipeLeft\",\r\n};\r\n\r\nexport const FingerSwipeProvider: FingerProvider = {\r\n  name: \"Swipe\",\r\n  events: [\r\n    \"onSwipe\",\r\n    \"onSwipeUp\",\r\n    \"onSwipeDown\",\r\n    \"onSwipeLeft\",\r\n    \"onSwipeRight\",\r\n  ],\r\n\r\n  handlePointerDown: ({ context, pointer }) => {\r\n    pointer.target.setPointerCapture?.(pointer.pointerId);\r\n    if (pointer.isPrimary) context.cleanFlags(ALL_FLAGS);\r\n    const { flags, getPointers } = context;\r\n    flags.set(CANCELED, getPointers().length > 1);\r\n    flags.set(START_TIME, Date.now());\r\n  },\r\n\r\n  handlePointerWillUp: ({ events, context, pointer }) => {\r\n    pointer.target.releasePointerCapture?.(pointer.pointerId);\r\n    const { flags, getPointers, getChangedPointers } = context;\r\n    const invalidTime =\r\n      Date.now() - (flags.get(START_TIME) as number) >\r\n      swipeMaxDurationThreshold;\r\n    if (flags.get(CANCELED) || invalidTime) return;\r\n    const pointers = getPointers();\r\n    const changedPointers = getChangedPointers();\r\n    const start = pointers[0];\r\n    const end = changedPointers[0];\r\n    const distX = end?.clientX - start?.clientX;\r\n    const distY = end?.clientY - start?.clientY;\r\n    const direction = ((): SwipeDirection => {\r\n      if (\r\n        Math.abs(distX) > Math.abs(distY) &&\r\n        Math.abs(distX) > swipeMinDistanceThreshold\r\n      ) {\r\n        return distX > 0 ? \"right\" : \"left\";\r\n      } else if (\r\n        Math.abs(distX) < Math.abs(distY) &&\r\n        Math.abs(distY) > swipeMinDistanceThreshold\r\n      ) {\r\n        return distY > 0 ? \"down\" : \"up\";\r\n      }\r\n    })();\r\n    if (!direction) return;\r\n    const detail = { pointers, changedPointers, direction };\r\n    events.onSwipe?.(FingerPointerEvent(\"onSwipe\", pointer, detail));\r\n    const eventName = swipeDirectionToEventNames[direction];\r\n    events[eventName]?.(FingerPointerEvent(eventName, pointer, detail));\r\n  },\r\n\r\n  handlePointerCancel: ({ context, pointer }) => {\r\n    pointer.target.releasePointerCapture?.(pointer.pointerId);\r\n    const { flags } = context;\r\n    flags.set(CANCELED, true);\r\n  },\r\n};\r\n","/**\r\n * @homepage https://github.com/Houfeng/react-finger\r\n * @author Houfeng <houzhanfeng@gmail.com>\r\n */\r\n\r\nimport { FingerPointer } from \"../core/FingerContext\";\r\nimport { clearEventTimer, createEventTimer } from \"../core/FingerEventTimer\";\r\nimport { FingerGlobal } from \"../core/FingerGlobal\";\r\n\r\nimport { FingerOptions } from \"../core/FingerOptions\";\r\nimport { FingerPointerEvent } from \"../core/FingerPointerEvents\";\r\nimport { FingerProvider } from \"../core/FingerProviders\";\r\nimport { calcDistance } from \"../core/FingerUtils\";\r\n\r\nconst { tapMaxDistanceThreshold, holdDurationThreshold, dblIntervalThreshold } =\r\n  FingerOptions;\r\n\r\nconst HOLD_TIMER = Symbol();\r\nconst CANCELED = Symbol();\r\nconst DBL_WAIT_NEXT = Symbol();\r\nconst DBL_PREV_TIME = Symbol();\r\nconst DBL_PREV_POINTER = Symbol();\r\n\r\nexport const FingerTapProvider: FingerProvider = {\r\n  name: \"Tap\",\r\n  events: [\"onTap\", \"onTapHold\", \"onDoubleTap\"],\r\n\r\n  handlePointerDown: ({ events, context, pointer }) => {\r\n    if (pointer.isPrimary) context.cleanTimers();\r\n    const { flags, getPointers, getChangedPointers } = context;\r\n    const pointers = getPointers();\r\n    const changedPointers = getChangedPointers();\r\n    flags.set(CANCELED, pointers.length > 1);\r\n    if (flags.get(CANCELED)) {\r\n      return clearEventTimer(flags.get(HOLD_TIMER) as number);\r\n    }\r\n    pointer.target.setPointerCapture?.(pointer.pointerId);\r\n    const detail = { pointers, changedPointers };\r\n    flags.set(\r\n      HOLD_TIMER,\r\n      createEventTimer(() => {\r\n        if (flags.get(CANCELED)) return;\r\n        if (FingerGlobal.activePointersTotal !== 1) return;\r\n        if (FingerGlobal.primaryMoveDistance > tapMaxDistanceThreshold) return;\r\n        context.clean();\r\n        flags.set(CANCELED, true);\r\n        events.onTapHold?.(FingerPointerEvent(\"onTapHold\", pointer, detail));\r\n      }, holdDurationThreshold)\r\n    );\r\n  },\r\n\r\n  handlePointerMove: ({ context }) => {\r\n    const { flags, getPointers, getChangedPointers } = context;\r\n    if (flags.get(CANCELED)) return;\r\n    const pointers = getPointers();\r\n    const changedPointers = getChangedPointers();\r\n    const dist = calcDistance(pointers[0], changedPointers[0]);\r\n    if (dist > tapMaxDistanceThreshold) {\r\n      flags.set(CANCELED, true);\r\n      clearEventTimer(flags.get(HOLD_TIMER) as number);\r\n    }\r\n  },\r\n\r\n  handlePointerWillUp: ({ events, context, pointer }) => {\r\n    const { flags, getPointers, getChangedPointers } = context;\r\n    clearEventTimer(flags.get(HOLD_TIMER) as number);\r\n    if (flags.get(CANCELED)) return;\r\n    pointer.target.releasePointerCapture?.(pointer.pointerId);\r\n    const pointers = getPointers();\r\n    const changedPointers = getChangedPointers();\r\n    const detail = { pointers, changedPointers };\r\n    events.onTap?.(FingerPointerEvent(\"onTap\", pointer, detail));\r\n    const prevTime = (flags.get(DBL_PREV_TIME) || 0) as number;\r\n    const timeOut = Date.now() - prevTime > dblIntervalThreshold;\r\n    const prevPointer = flags.get(DBL_PREV_POINTER) as FingerPointer;\r\n    const dist = prevPointer && calcDistance(prevPointer, changedPointers[0]);\r\n    const distOut =\r\n      (dist && dist > tapMaxDistanceThreshold) ||\r\n      FingerGlobal.primaryMoveDistance > tapMaxDistanceThreshold;\r\n    if (!flags.get(DBL_WAIT_NEXT) || timeOut || distOut) {\r\n      flags.set(DBL_PREV_TIME, Date.now());\r\n      flags.set(DBL_PREV_POINTER, changedPointers[0]);\r\n      flags.set(DBL_WAIT_NEXT, true);\r\n    } else {\r\n      if (!timeOut && !distOut) {\r\n        events.onDoubleTap?.(\r\n          FingerPointerEvent(\"onDoubleTap\", pointer, detail)\r\n        );\r\n      }\r\n      flags.set(DBL_WAIT_NEXT, false);\r\n    }\r\n  },\r\n\r\n  handlePointerCancel: ({ context, pointer }) => {\r\n    pointer.target.releasePointerCapture?.(pointer.pointerId);\r\n    const { flags } = context;\r\n    flags.set(CANCELED, true);\r\n    clearEventTimer(flags.get(HOLD_TIMER) as number);\r\n  },\r\n};\r\n","/**\r\n * @homepage https://github.com/Houfeng/react-finger\r\n * @author Houfeng <houzhanfeng@gmail.com>\r\n */\r\n\r\nimport { HostElement, HostKeyboardEvent } from \"./FingerHostEvents\";\r\nimport { createEventWrapper } from \"./FingerEventWrapper\";\r\n\r\nexport type FingerKeyboardEventDetail<T> = T;\r\n\r\nexport type FingerKeyboardEvent<\r\n  T extends HostElement = HostElement,\r\n  D extends object = {}\r\n> = HostKeyboardEvent<T> & {\r\n  hostEvent: HostKeyboardEvent<T>;\r\n  fingerType: keyof FingerKeyboardEvents<T>;\r\n  detail: FingerKeyboardEventDetail<D>;\r\n} & FingerKeyboardEventDetail<D>;\r\n\r\nexport type FingerShortcutEvent<T extends HostElement = HostElement> =\r\n  FingerKeyboardEvent<\r\n    T,\r\n    {\r\n      keys: Set<string>;\r\n      when: (\r\n        matchKeys: string[],\r\n        handler: (event?: HostKeyboardEvent<T>) => void\r\n      ) => void;\r\n    }\r\n  >;\r\n\r\nexport type FingerKeyboardEventListener<E extends FingerKeyboardEvent> = (\r\n  event: E\r\n) => void;\r\n\r\nexport type FingerKeyboardEvents<T extends HostElement = HostElement> = {\r\n  onShortcut: FingerKeyboardEventListener<FingerShortcutEvent<T>>;\r\n};\r\n\r\nexport function FingerKeyboardEvent<\r\n  T extends HostElement,\r\n  F extends keyof FingerKeyboardEvents<T>\r\n>(\r\n  fingerType: F,\r\n  hostEvent: HostKeyboardEvent<T>,\r\n  detail: Parameters<FingerKeyboardEvents<T>[F]>[0][\"detail\"]\r\n): FingerKeyboardEvent<T, Parameters<FingerKeyboardEvents<T>[F]>[0][\"detail\"]> {\r\n  hostEvent.persist?.();\r\n  const fingerEvent = createEventWrapper<any>(hostEvent, {\r\n    ...detail,\r\n    fingerType,\r\n    detail,\r\n  });\r\n  return fingerEvent;\r\n}\r\n","/**\r\n * @homepage https://github.com/Houfeng/react-finger\r\n * @author Houfeng <houzhanfeng@gmail.com>\r\n */\r\n\r\nimport {\r\n  FingerKeyboardEvent,\r\n  FingerShortcutEvent,\r\n} from \"../core/FingerKeyboardEvents\";\r\n\r\nimport { FingerProvider } from \"../core/FingerProviders\";\r\n\r\nconst LAST_ACTION_IS_DOWN = Symbol();\r\n\r\nfunction isMatched(keys: Set<string>, matchKeys: string[]) {\r\n  return (\r\n    keys &&\r\n    matchKeys &&\r\n    matchKeys.length === keys.size &&\r\n    matchKeys.every((key) => keys.has(key.toLowerCase()))\r\n  );\r\n}\r\n\r\nexport const FingerShortcutProvider: FingerProvider = {\r\n  name: \"Shortcut\",\r\n  events: [\"onShortcut\"],\r\n\r\n  handleKeyDown: ({ events, context, event }) => {\r\n    const { flags } = context;\r\n    // +防止按下多键组合，逐个弹起时，触发多次不同的组合\r\n    if (!event.repeat) flags.set(LAST_ACTION_IS_DOWN, true);\r\n    if (!flags.get(LAST_ACTION_IS_DOWN)) return;\r\n    // -防止按下多键组合，逐个弹起时，触发多次不同的组合\r\n    const keys = new Set<string>();\r\n    if (event.ctrlKey) keys.add(\"control\");\r\n    if (event.metaKey) keys.add(\"meta\");\r\n    if (event.shiftKey) keys.add(\"shift\");\r\n    if (event.altKey) keys.add(\"alt\");\r\n    keys.add(event.key.toLowerCase());\r\n    const when: FingerShortcutEvent[\"detail\"][\"when\"] = (matchKeys, handler) =>\r\n      isMatched(keys, matchKeys) && handler(event);\r\n    const detail = { when, keys };\r\n    const shortcutEvent = FingerKeyboardEvent(\"onShortcut\", event, detail);\r\n    events.onShortcut?.(shortcutEvent);\r\n  },\r\n\r\n  handleKeyUp: ({ context }) => context.flags.delete(LAST_ACTION_IS_DOWN),\r\n};\r\n","/**\r\n * @homepage https://github.com/Houfeng/react-finger\r\n * @author Houfeng <houzhanfeng@gmail.com>\r\n */\r\n\r\nimport { HostPointerEvent } from \"./FingerHostEvents\";\r\nimport { createEventWrapper } from \"./FingerEventWrapper\";\r\nimport { clearAllEventTimers } from \"./FingerEventTimer\";\r\n\r\nexport type FingerPointer = HostPointerEvent;\r\n\r\nfunction createFingerPointer(hostEvent: HostPointerEvent): FingerPointer {\r\n  return createEventWrapper(hostEvent);\r\n}\r\n\r\nexport type FingerContext = {\r\n  addPointer: (pointer: HostPointerEvent) => void;\r\n  updatePointer: (pointer: HostPointerEvent) => void;\r\n  removePointer: (pointer: HostPointerEvent) => void;\r\n  getPointers: () => HostPointerEvent[];\r\n  getChangedPointers: () => HostPointerEvent[];\r\n  flags: Map<symbol, unknown>;\r\n  cleanTimers: () => void;\r\n  cleanPointers: () => void;\r\n  cleanFlags: (flags?: symbol[]) => void;\r\n  clean: () => void;\r\n};\r\n\r\nexport type FingerPointerContext = FingerContext;\r\nexport type FingerKeyboardContext = Pick<FingerContext, \"flags\">;\r\nexport type FingerFocusContext = Pick<FingerContext, \"flags\">;\r\n\r\nexport function FingerContext(): FingerContext {\r\n  const flags = new Map<symbol, unknown>();\r\n  const pointers = new Map<number, FingerPointer>();\r\n  const changedPointers = new Map<number, FingerPointer>();\r\n  const addPointer = (pointer: FingerPointer) => {\r\n    pointers.set(pointer.pointerId, createFingerPointer(pointer));\r\n    updatePointer(pointer);\r\n  };\r\n  const updatePointer = (pointer: FingerPointer) => {\r\n    changedPointers.set(pointer.pointerId, createFingerPointer(pointer));\r\n  };\r\n  const removePointer = (pointer: FingerPointer) => {\r\n    pointers.delete(pointer.pointerId);\r\n    changedPointers.delete(pointer.pointerId);\r\n  };\r\n  const getPointers = (): FingerPointer[] => {\r\n    return Array.from(pointers.values());\r\n  };\r\n  const getChangedPointers = (): FingerPointer[] => {\r\n    return Array.from(changedPointers.values());\r\n  };\r\n  const cleanTimers = () => clearAllEventTimers();\r\n  const cleanPointers = () => {\r\n    pointers.clear();\r\n    changedPointers.clear();\r\n  };\r\n  const cleanFlags = (flagKeys?: symbol[]) => {\r\n    if (!flagKeys || flagKeys.length < 1) return flags.clear();\r\n    flagKeys.forEach((key) => flags.delete(key));\r\n  };\r\n  const clean = () => {\r\n    cleanTimers();\r\n    cleanPointers();\r\n    cleanFlags();\r\n  };\r\n  return {\r\n    addPointer,\r\n    updatePointer,\r\n    removePointer,\r\n    getPointers,\r\n    getChangedPointers,\r\n    flags,\r\n    cleanTimers,\r\n    cleanPointers,\r\n    cleanFlags,\r\n    clean,\r\n  };\r\n}\r\n","/**\r\n * @homepage https://github.com/Houfeng/react-finger\r\n * @author Houfeng <houzhanfeng@gmail.com>\r\n */\r\n\r\nimport {\r\n  FingerContext,\r\n  FingerFocusContext,\r\n  FingerKeyboardContext,\r\n  FingerPointerContext,\r\n} from \"./FingerContext\";\r\nimport { FingerProvider, getAllFingerProviders } from \"./FingerProviders\";\r\nimport {\r\n  HostElement,\r\n  HostEvents,\r\n  HostFocusEvent,\r\n  HostFocusEventListener,\r\n  HostKeyboardEvent,\r\n  HostKeyboardEventListener,\r\n  HostPointerEvent,\r\n  HostPointerEventListener,\r\n} from \"./FingerHostEvents\";\r\n\r\nimport { FingerMixEvents } from \"./FingerMixEvents\";\r\n\r\nconst providers = getAllFingerProviders();\r\n\r\nfunction shouldTrigger(\r\n  provider: FingerProvider,\r\n  events: Partial<FingerMixEvents>\r\n) {\r\n  return provider.events.some((it) => !!events[it as keyof FingerMixEvents]);\r\n}\r\n\r\n/**\r\n * 创建包含合成处理逻辑的 PointerDown Listener\r\n * @param events\r\n * @param context\r\n * @returns\r\n */\r\nfunction createPointerDownListener(\r\n  events: Partial<FingerMixEvents>,\r\n  context: FingerPointerContext\r\n): HostPointerEventListener {\r\n  return (pointer: HostPointerEvent) => {\r\n    if (pointer.isPrimary) context.cleanPointers();\r\n    events.onPointerDown?.(pointer);\r\n    providers.forEach(\r\n      (it) =>\r\n        shouldTrigger(it, events) &&\r\n        it.handlePointerWillDown?.({ events, context, pointer })\r\n    );\r\n    context.addPointer(pointer);\r\n    providers.forEach(\r\n      (it) =>\r\n        shouldTrigger(it, events) &&\r\n        it.handlePointerDown?.({ events, context, pointer })\r\n    );\r\n  };\r\n}\r\n\r\n/**\r\n * 创建包含合成处理逻辑的 PointerMove Listener\r\n * @param events\r\n * @param context\r\n * @returns\r\n */\r\nfunction createPointerMoveListener(\r\n  events: Partial<FingerMixEvents>,\r\n  context: FingerPointerContext\r\n): HostPointerEventListener {\r\n  return (pointer: HostPointerEvent) => {\r\n    events.onPointerMove?.(pointer);\r\n    if (context.getPointers().length < 1) return;\r\n    providers.forEach(\r\n      (it) =>\r\n        shouldTrigger(it, events) &&\r\n        it.handlePointerWillMove?.({ events, context, pointer })\r\n    );\r\n    context.updatePointer(pointer);\r\n    providers.forEach(\r\n      (it) =>\r\n        shouldTrigger(it, events) &&\r\n        it.handlePointerMove?.({ events, context, pointer })\r\n    );\r\n  };\r\n}\r\n\r\n/**\r\n * 创建包含合成处理逻辑的 PointerUp Listener\r\n * @param events\r\n * @param context\r\n * @returns\r\n */\r\nfunction createPointerUpListener(\r\n  events: Partial<FingerMixEvents>,\r\n  context: FingerPointerContext\r\n): HostPointerEventListener {\r\n  return (pointer: HostPointerEvent) => {\r\n    events.onPointerUp?.(pointer);\r\n    providers.forEach(\r\n      (it) =>\r\n        shouldTrigger(it, events) &&\r\n        it.handlePointerWillUp?.({ events, context, pointer })\r\n    );\r\n    context.removePointer(pointer);\r\n    providers.forEach(\r\n      (it) =>\r\n        shouldTrigger(it, events) &&\r\n        it.handlePointerUp?.({ events, context, pointer })\r\n    );\r\n  };\r\n}\r\n\r\n/**\r\n * 创建包含合成处理逻辑的 PointerCancel Listener\r\n * @param events\r\n * @param context\r\n * @returns\r\n */\r\nfunction createPointerCancelListener(\r\n  events: Partial<FingerMixEvents>,\r\n  context: FingerPointerContext\r\n): HostPointerEventListener {\r\n  return (pointer: HostPointerEvent) => {\r\n    events.onPointerCancel?.(pointer);\r\n    providers.forEach(\r\n      (it) =>\r\n        shouldTrigger(it, events) &&\r\n        it.handlePointerWillCancel?.({ events, context, pointer })\r\n    );\r\n    context.removePointer(pointer);\r\n    providers.forEach(\r\n      (it) =>\r\n        shouldTrigger(it, events) &&\r\n        it.handlePointerCancel?.({ events, context, pointer })\r\n    );\r\n  };\r\n}\r\n\r\n/**\r\n * 创建包含合成处理逻辑的 KeyDown Listener\r\n * @param events\r\n * @param context\r\n * @returns\r\n */\r\nfunction createKeyDownListener(\r\n  events: Partial<FingerMixEvents>,\r\n  context: FingerKeyboardContext\r\n): HostKeyboardEventListener {\r\n  return (event: HostKeyboardEvent) => {\r\n    events.onKeyDown?.(event);\r\n    providers.forEach(\r\n      (it) =>\r\n        shouldTrigger(it, events) &&\r\n        it.handleKeyDown?.({ events, context, event })\r\n    );\r\n  };\r\n}\r\n\r\n/**\r\n * 创建包含合成处理逻辑的 KeyUp Listener\r\n * @param events\r\n * @param context\r\n * @returns\r\n */\r\nfunction createKeyUpListener(\r\n  events: Partial<FingerMixEvents>,\r\n  context: FingerKeyboardContext\r\n): HostKeyboardEventListener {\r\n  return (event: HostKeyboardEvent) => {\r\n    events.onKeyUp?.(event);\r\n    providers.forEach(\r\n      (it) =>\r\n        shouldTrigger(it, events) &&\r\n        it.handleKeyUp?.({ events, context, event })\r\n    );\r\n  };\r\n}\r\n\r\n/**\r\n * 创建包含合成处理逻辑的 focus Listener\r\n * @param events\r\n * @param context\r\n * @returns\r\n */\r\nfunction createFocusListener(\r\n  events: Partial<FingerMixEvents>,\r\n  context: FingerFocusContext\r\n): HostFocusEventListener {\r\n  return (event: HostFocusEvent) => {\r\n    events.onFocus?.(event);\r\n    providers.forEach(\r\n      (it) =>\r\n        shouldTrigger(it, events) &&\r\n        it.handleFocus?.({ events, context, event })\r\n    );\r\n  };\r\n}\r\n\r\n/**\r\n * 创建包含合成处理逻辑的 blur Listener\r\n * @param events\r\n * @param context\r\n * @returns\r\n */\r\nfunction createBlurListener(\r\n  events: Partial<FingerMixEvents>,\r\n  context: FingerFocusContext\r\n): HostFocusEventListener {\r\n  return (event: HostFocusEvent) => {\r\n    events.onBlur?.(event);\r\n    providers.forEach(\r\n      (it) =>\r\n        shouldTrigger(it, events) && it.handleBlur?.({ events, context, event })\r\n    );\r\n  };\r\n}\r\n\r\n/**\r\n * 将一组手手势事件转换为可直接用 element 的 pointer events\r\n * 注意：上层应用通常不要直接使用此 API\r\n * @internal\r\n * @param events events 要绑定的手势事件 map\r\n * @returns 合成后的 pointer events\r\n */\r\nexport function composeFingerEvents<T extends HostElement = HostElement>(\r\n  events: Partial<FingerMixEvents<T>>\r\n): HostEvents<T> {\r\n  // 一组合成事件的上下文对象\r\n  const context = FingerContext();\r\n  const onPointerDown = createPointerDownListener(events, context);\r\n  const onPointerMove = createPointerMoveListener(events, context);\r\n  const onPointerUp = createPointerUpListener(events, context);\r\n  const onPointerCancel = createPointerCancelListener(events, context);\r\n  const onKeyDown = createKeyDownListener(events, context);\r\n  const onKeyUp = createKeyUpListener(events, context);\r\n  const onFocus = createFocusListener(events, context);\r\n  const onBlur = createBlurListener(events, context);\r\n  return {\r\n    onPointerDown,\r\n    onPointerMove,\r\n    onPointerUp,\r\n    onPointerCancel,\r\n    onKeyDown,\r\n    onKeyUp,\r\n    onFocus,\r\n    onBlur,\r\n  };\r\n}\r\n","/**\r\n * @homepage https://github.com/Houfeng/react-finger\r\n * @author Houfeng <houzhanfeng@gmail.com>\r\n */\r\n\r\nimport { useLayoutEffect, useMemo } from \"react\";\r\n\r\nimport { FingerMixEvents } from \"../core/FingerMixEvents\";\r\nimport { composeFingerEvents } from \"../core/FingerCompose\";\r\nimport { HostElement } from \"../core/FingerHostEvents\";\r\n\r\n/**\r\n * 通过 hook 创建可用于 element 的 events\r\n * 注意：此 hook 返回稳定引用的同时会自动更新处理函数中的依赖，不会造成不必要的渲染\r\n *\r\n * @param events 要绑定的手势事件 map\r\n * @returns 合成后的 pointer events，需要直接解构到一个元素的 props 上\r\n */\r\nexport function useFingerEvents<T extends HostElement = HostElement>(\r\n  events: Partial<FingerMixEvents<T>>\r\n) {\r\n  const eventsRef = useMemo<Partial<FingerMixEvents<T>>>(() => ({}), []);\r\n  useLayoutEffect(() => {\r\n    if (events) Object.assign(eventsRef, events);\r\n  });\r\n  return useMemo(() => composeFingerEvents<T>(eventsRef), []);\r\n}\r\n","/**\r\n * @homepage https://github.com/Houfeng/react-finger\r\n * @author Houfeng <houzhanfeng@gmail.com>\r\n */\r\n\r\nimport {\r\n  ForwardRefExoticComponent,\r\n  PropsWithoutRef,\r\n  RefAttributes,\r\n} from \"react\";\r\nimport { getAllEventNames } from \"../core/FingerProviders\";\r\nimport { AnyFunction } from \"../core/FingerUtils\";\r\n\r\nexport type FingerForwardRefExoticComponent<T, P> = ForwardRefExoticComponent<\r\n  PropsWithoutRef<P> & RefAttributes<T>\r\n>;\r\n\r\nexport function splitProps(props: Record<string, any>) {\r\n  const eventNames = getAllEventNames();\r\n  const eventProps: Record<string, AnyFunction> = {};\r\n  const otherProps: Record<string, any> = {};\r\n  Object.entries(props).forEach(([key, value]) => {\r\n    if (eventNames.has(key)) eventProps[key] = value;\r\n    else otherProps[key] = value;\r\n  });\r\n  return { eventProps, otherProps };\r\n}\r\n","/**\r\n * @homepage https://github.com/Houfeng/react-finger\r\n * @author Houfeng <houzhanfeng@gmail.com>\r\n */\r\n\r\nimport {\r\n  HTMLAttributes,\r\n  SVGAttributes,\r\n  ReactNode,\r\n  createElement,\r\n  forwardRef,\r\n} from \"react\";\r\n\r\nimport { FingerMixEvents } from \"../core/FingerMixEvents\";\r\nimport { useFingerEvents } from \"./FingerHook\";\r\nimport { HostElement } from \"../core/FingerHostEvents\";\r\nimport {\r\n  FingerForwardRefExoticComponent,\r\n  splitProps,\r\n} from \"./FingerHelperUtils\";\r\n\r\nexport type FingerHTMLProps<T extends HostElement = HostElement> =\r\n  HTMLAttributes<T> &\r\n    Partial<FingerMixEvents<T>> & {\r\n      children?: ReactNode;\r\n    };\r\n\r\nexport type FingerSVGProps<T extends HostElement = HostElement> =\r\n  SVGAttributes<T> &\r\n    Partial<FingerMixEvents<T>> & {\r\n      children?: ReactNode;\r\n    };\r\n\r\nconst FingerCache = new Map<\r\n  string,\r\n  FingerForwardRefExoticComponent<\r\n    HostElement,\r\n    FingerHTMLProps<HostElement> | FingerSVGProps<HostElement>\r\n  >\r\n>();\r\n\r\n/**\r\n * 将一个原生 HTML 标签，转换为具备「手势事件」的高阶组件\r\n *\r\n * @param type 原生 HTML 标签的 TagName\r\n * @returns 具备手势事件的高阶组件\r\n */\r\nexport function Finger<T extends keyof HTMLElementTagNameMap>(\r\n  type: T\r\n): FingerForwardRefExoticComponent<\r\n  HTMLElementTagNameMap[T],\r\n  FingerHTMLProps<HTMLElementTagNameMap[T]>\r\n>;\r\nexport function Finger<T extends keyof SVGElementTagNameMap>(\r\n  type: T\r\n): FingerForwardRefExoticComponent<\r\n  SVGElementTagNameMap[T],\r\n  FingerSVGProps<SVGElementTagNameMap[T]>\r\n>;\r\nexport function Finger<T extends keyof HTMLElementTagNameMap>(type: T) {\r\n  if (FingerCache.has(type)) return FingerCache.get(type);\r\n  const FC = forwardRef<\r\n    HTMLElementTagNameMap[T],\r\n    FingerHTMLProps<HTMLElementTagNameMap[T]>\r\n  >(function FingerComponent(props, ref) {\r\n    const { eventProps, otherProps } = splitProps(props);\r\n    const events = useFingerEvents(eventProps);\r\n    return createElement(type, { ...otherProps, ...events, ref });\r\n  });\r\n  FingerCache.set(type, FC);\r\n  return FC;\r\n}\r\n","import { __assign, __awaiter, __generator, __spreadArray } from \"tslib\";\nvar AbstractEventEmitter = (function () {\n    function AbstractEventEmitter(options) {\n        var _a = __assign({}, options), _b = _a.maxListeners, maxListeners = _b === void 0 ? 1024 : _b, _c = _a.requireLoopRemove, requireLoopRemove = _c === void 0 ? false : _c;\n        this.__maxListeners = maxListeners;\n        this.__listeners = {};\n        this.__requireLoopRemove = requireLoopRemove;\n    }\n    AbstractEventEmitter.prototype.addListener = function (name, listener) {\n        this.__listeners[name] = this.__listeners[name] || [];\n        this.__listeners[name].push(listener);\n        var maxListeners = this.__maxListeners;\n        if (this.__listeners[name].length > maxListeners) {\n            var error = \"The '\".concat(name, \"' listener is not more than \").concat(maxListeners);\n            console.warn(error, this);\n        }\n    };\n    AbstractEventEmitter.prototype.on = function (name, listener) {\n        return this.addListener(name, listener);\n    };\n    AbstractEventEmitter.prototype.removeListener = function (name, listener) {\n        if (!this.__listeners[name] || !listener)\n            return;\n        this.__listeners[name] = this.__listeners[name].filter(function (it) { return it !== listener; });\n    };\n    AbstractEventEmitter.prototype.off = function (name, listener) {\n        return this.removeListener(name, listener);\n    };\n    AbstractEventEmitter.prototype.removeAllListener = function (name) {\n        var _this = this;\n        if (name) {\n            if (this.__requireLoopRemove && this.__listeners[name]) {\n                this.__listeners[name].slice(0).forEach(function (it) {\n                    _this.removeListener(name, it);\n                });\n            }\n            this.__listeners[name] = [];\n        }\n        else {\n            if (this.__requireLoopRemove) {\n                Object.keys(this.__listeners).forEach(function (it) {\n                    _this.removeAllListener(it);\n                });\n            }\n            this.__listeners = {};\n        }\n    };\n    AbstractEventEmitter.prototype.emit = function (name) {\n        var _this = this;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!this.__listeners[name])\n            return;\n        var listeners = this.__listeners[name].slice(0);\n        return listeners.map(function (it) { return it.call.apply(it, __spreadArray([_this], args, false)); });\n    };\n    AbstractEventEmitter.prototype.emitSerial = function (name) {\n        var _this = this;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!this.__listeners[name])\n            return;\n        var listeners = this.__listeners[name].slice(0);\n        return listeners.reduce(function (result, it) { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, result];\n                    case 1:\n                        if ((_a.sent()) === false)\n                            return [2, false];\n                        return [2, it.call.apply(it, __spreadArray([this], args, false))];\n                }\n            });\n        }); }, true);\n    };\n    AbstractEventEmitter.prototype.emitParallel = function (name) {\n        var _this = this;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!this.__listeners[name])\n            return;\n        var listeners = this.__listeners[name].slice(0);\n        return Promise.all(listeners.map(function (it) { return it.call.apply(it, __spreadArray([_this], args, false)); }));\n    };\n    AbstractEventEmitter.prototype.emitAsync = function (name) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        return this.emitParallel.apply(this, __spreadArray([name], args, false));\n    };\n    return AbstractEventEmitter;\n}());\nexport { AbstractEventEmitter };\n","import { __extends, __spreadArray } from \"tslib\";\nimport { AbstractEventEmitter } from \"./AbstractEventEmitter\";\nvar EventEmitter = (function (_super) {\n    __extends(EventEmitter, _super);\n    function EventEmitter(options) {\n        return _super.call(this, options) || this;\n    }\n    EventEmitter.prototype.emit = function (name) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        return _super.prototype.emit.apply(this, __spreadArray([name], args, false));\n    };\n    EventEmitter.prototype.emitSerial = function (name) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        return _super.prototype.emitSerial.apply(this, __spreadArray([name], args, false));\n    };\n    EventEmitter.prototype.emitParallel = function (name) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        return _super.prototype.emitParallel.apply(this, __spreadArray([name], args, false));\n    };\n    EventEmitter.prototype.emitAsync = function (name) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        return this.emitAsync.apply(this, __spreadArray([name], args, false));\n    };\n    return EventEmitter;\n}(AbstractEventEmitter));\nexport { EventEmitter };\n","import { __assign, __extends } from \"tslib\";\nimport { AbstractEventEmitter } from \"./AbstractEventEmitter\";\nvar DOMEventEmitter = (function (_super) {\n    __extends(DOMEventEmitter, _super);\n    function DOMEventEmitter(target, options) {\n        var _this = _super.call(this, __assign({ requireLoopRemove: true }, options)) || this;\n        _this.target = target;\n        return _this;\n    }\n    DOMEventEmitter.defineEvent = function (descriptor) {\n        var name = descriptor && descriptor.name;\n        if (!name)\n            return;\n        var names = name instanceof Array ? name : [name];\n        names.forEach(function (it) {\n            DOMEventEmitter.__composeEvents[it] = descriptor;\n        });\n    };\n    DOMEventEmitter.getEventDescriptor = function (name) {\n        return DOMEventEmitter.__composeEvents[name];\n    };\n    DOMEventEmitter.prototype.addListener = function (name, listener, capture) {\n        if (capture === void 0) { capture = false; }\n        _super.prototype.addListener.call(this, name, listener);\n        this.target.addEventListener(name, listener, capture);\n        var descriptor = DOMEventEmitter.getEventDescriptor(name);\n        if (!descriptor)\n            return;\n        descriptor.addListener(this, name, listener, capture);\n    };\n    DOMEventEmitter.prototype.removeListener = function (name, listener, capture) {\n        if (capture === void 0) { capture = false; }\n        _super.prototype.removeListener.call(this, name, listener);\n        this.target.removeEventListener(name, listener, capture);\n        var descriptor = DOMEventEmitter.getEventDescriptor(name);\n        if (!descriptor)\n            return;\n        descriptor.removeListener(this, name, listener, capture);\n    };\n    DOMEventEmitter.prototype.dispatch = function (name, detail, options) {\n        var event = new CustomEvent(name, __assign(__assign({}, options), { detail: detail }));\n        return this.target.dispatchEvent(event);\n    };\n    DOMEventEmitter.__composeEvents = {};\n    return DOMEventEmitter;\n}(AbstractEventEmitter));\nexport { DOMEventEmitter };\n","/**\r\n * @homepage https://github.com/Houfeng/react-finger\r\n * @author Houfeng <houzhanfeng@gmail.com>\r\n */\r\n\r\nimport {\r\n  FingerPointerEvent,\r\n  FingerPointerEventListener,\r\n} from \"../core/FingerPointerEvents\";\r\nimport {\r\n  Fragment,\r\n  FunctionComponent,\r\n  HTMLAttributes,\r\n  ReactNode,\r\n  SVGAttributes,\r\n  createContext,\r\n  createElement,\r\n  forwardRef,\r\n  memo,\r\n  useContext,\r\n  useLayoutEffect,\r\n  useMemo,\r\n} from \"react\";\r\n\r\nimport { AnyFunction } from \"../core/FingerUtils\";\r\nimport { EventEmitter } from \"eify\";\r\nimport { FingerMixEvents } from \"../core/FingerMixEvents\";\r\nimport { HostEvents, HostElement } from \"../core/FingerHostEvents\";\r\nimport { useFingerEvents } from \"./FingerHook\";\r\nimport {\r\n  FingerForwardRefExoticComponent,\r\n  splitProps,\r\n} from \"./FingerHelperUtils\";\r\n\r\ntype FingerProxyEventTarget = {\r\n  addEventListener: (\r\n    name: string,\r\n    listener: AnyFunction,\r\n    options?: unknown\r\n  ) => void;\r\n  removeEventListener: (\r\n    name: string,\r\n    listener: AnyFunction,\r\n    options?: unknown\r\n  ) => void;\r\n};\r\n\r\nexport type FingerProxyProps = Partial<FingerMixEvents> & {\r\n  target?: FingerProxyEventTarget;\r\n  passive?: boolean;\r\n};\r\n\r\nfunction toNativeEventName(name: string) {\r\n  return name.slice(2).toLocaleLowerCase();\r\n}\r\n\r\nconst FingerProxyContext = createContext<FingerProxyEventTarget>(null);\r\n\r\n/**\r\n * 手势事件代理组件，主要有两个能力\r\n *    1. 用于以组件式 API 代理到 window、document 等原生对象\r\n *    2. 将事件代理到父层的某个 FingerProxyBoundary 上\r\n *\r\n * 当前未指定 target 时：\r\n *    1. 如果上层有 FingerProxyBoundary 将代理到最近的 FingerProxyBoundary\r\n *    2. 如果上层没有有 FingerProxyBoundary 将代理到 document\r\n * 当前指定了 target 时\r\n *    1. 总是代理到指定的 target\r\n *\r\n * @param props 属性\r\n * @returns JSX.Element\r\n */\r\nexport const FingerProxy = memo(function FingerProxy(props: FingerProxyProps) {\r\n  // * 当使用 useFingerEvents 返回结果再作为属性用于 FingerProxy 时,\r\n  // * 在 Provider 中的 handle 方法看起来会进入两次，是因为经历了两次 compose\r\n  // * 在 FingerProxy 上直接使用事件，便不会两次。此外，进入两次并不会产生问题。\r\n  const contextTarget = useContext(FingerProxyContext);\r\n  const {\r\n    target = contextTarget ||\r\n      (typeof document !== \"undefined\"\r\n        ? (document as FingerProxyEventTarget)\r\n        : void 0),\r\n    passive = true,\r\n    ...others\r\n  } = props;\r\n  const events = useFingerEvents(others);\r\n  useLayoutEffect(() => {\r\n    const isProxyBoundary = !!contextTarget;\r\n    const eventEntries = Object.entries<AnyFunction>(events);\r\n    eventEntries.forEach(([name, listener]) => {\r\n      name = isProxyBoundary ? name : toNativeEventName(name);\r\n      target.addEventListener(name, listener, { passive });\r\n    }, false);\r\n    return () => {\r\n      eventEntries.forEach(([name, listener]) => {\r\n        name = isProxyBoundary ? name : toNativeEventName(name);\r\n        target.removeEventListener(name, listener);\r\n      }, false);\r\n    };\r\n  }, Object.values(props));\r\n  return createElement(Fragment);\r\n});\r\n\r\n/**\r\n * FingerProxyBoundaryEventTarget\r\n * @returns events & Proxy EventTarget\r\n */\r\nfunction FingerProxyBoundaryOwner<T extends HostElement = HostElement>(\r\n  props: Partial<HostEvents<T>>\r\n): [HostEvents<T>, FingerProxyEventTarget] {\r\n  if (!props) props = { ...props };\r\n  const { onPointerDown, onPointerMove, onPointerUp, onPointerCancel } = props;\r\n  const { onKeyDown, onKeyUp, onFocus, onBlur } = props;\r\n  const emitter = new EventEmitter<HostEvents<T>>();\r\n  const events: HostEvents<T> = {\r\n    onPointerDown: (event) => {\r\n      if (onPointerDown) onPointerDown(event);\r\n      emitter.emit(\"onPointerDown\", event);\r\n    },\r\n    onPointerMove: (event) => {\r\n      if (onPointerMove) onPointerMove(event);\r\n      emitter.emit(\"onPointerMove\", event);\r\n    },\r\n    onPointerUp: (event) => {\r\n      if (onPointerUp) onPointerUp(event);\r\n      emitter.emit(\"onPointerUp\", event);\r\n    },\r\n    onPointerCancel: (event) => {\r\n      if (onPointerCancel) onPointerCancel(event);\r\n      emitter.emit(\"onPointerCancel\", event);\r\n    },\r\n    onKeyDown: (event) => {\r\n      if (onKeyDown) onKeyDown(event);\r\n      emitter.emit(\"onKeyDown\", event);\r\n    },\r\n    onKeyUp: (event) => {\r\n      if (onKeyUp) onKeyUp(event);\r\n      emitter.emit(\"onKeyUp\", event);\r\n    },\r\n    onFocus: (event) => {\r\n      if (onFocus) onFocus(event);\r\n      emitter.emit(\"onFocus\", event);\r\n    },\r\n    onBlur: (event) => {\r\n      if (onBlur) onBlur(event);\r\n      emitter.emit(\"onBlur\", event);\r\n    },\r\n  };\r\n  const addEventListener = (\r\n    name: keyof HostEvents<T>,\r\n    listener: FingerPointerEventListener<FingerPointerEvent<T>>\r\n  ) => emitter.addListener(name, listener);\r\n  const removeEventListener = (\r\n    name: keyof HostEvents<T>,\r\n    listener: FingerPointerEventListener<FingerPointerEvent<T>>\r\n  ) => emitter.removeListener(name, listener);\r\n  return [events, { addEventListener, removeEventListener }];\r\n}\r\n\r\nexport type FingerProxyBoundaryProps<T extends HostElement = HostElement> = {\r\n  children: (events: HostEvents<T>) => ReactNode;\r\n} & Partial<HostEvents<T>>;\r\n\r\n/**\r\n * 代理边界组件，能影响所有子组件中的 FingerProxy\r\n * 注意：下层所有未指定 target 的 FingerProxy，将代理到最近的 FingerProxyBoundary\r\n *\r\n * @param props 属性\r\n * @returns JSX.Element\r\n */\r\nexport const FingerProxyBoundary = memo(function FingerProxyBoundary<\r\n  T extends HostElement = HostElement\r\n>(props: FingerProxyBoundaryProps<T>) {\r\n  const { children, ...others } = props;\r\n  const [events, target] = useMemo(\r\n    () => FingerProxyBoundaryOwner<T>(others),\r\n    []\r\n  );\r\n  return createElement(FingerProxyContext.Provider, {\r\n    value: target,\r\n    children: children(events),\r\n  });\r\n});\r\n\r\nexport type FingerProxyHTMLContainerProps<T extends HostElement = HostElement> =\r\n  HTMLAttributes<T> & { children?: ReactNode; eventBoundary?: boolean };\r\n\r\nexport type FingerProxySVGContainerProps<T extends HostElement = HostElement> =\r\n  SVGAttributes<T> & { children?: ReactNode; eventBoundary?: boolean };\r\n\r\nconst FingerProxyContainerCache = new Map<\r\n  string,\r\n  FingerForwardRefExoticComponent<\r\n    HostElement,\r\n    | FingerProxyHTMLContainerProps<HostElement>\r\n    | FingerProxySVGContainerProps<HostElement>\r\n  >\r\n>();\r\n\r\n/**\r\n * 将一个原生 HTML 标签，转换为具备 FingerProxyBoundary 能力的高阶容器组件\r\n *\r\n * @param props 属性\r\n * @returns JSX.Element\r\n */\r\nexport function FingerProxyContainer<T extends keyof HTMLElementTagNameMap>(\r\n  type: T\r\n): FingerForwardRefExoticComponent<\r\n  HTMLElementTagNameMap[T],\r\n  FingerProxyHTMLContainerProps<HTMLElementTagNameMap[T]>\r\n>;\r\nexport function FingerProxyContainer<T extends keyof SVGElementTagNameMap>(\r\n  type: T\r\n): FingerForwardRefExoticComponent<\r\n  SVGElementTagNameMap[T],\r\n  FingerProxySVGContainerProps<SVGElementTagNameMap[T]>\r\n>;\r\nexport function FingerProxyContainer<T extends keyof HTMLElementTagNameMap>(\r\n  type: T\r\n) {\r\n  if (FingerProxyContainerCache.has(type)) {\r\n    return FingerProxyContainerCache.get(type);\r\n  }\r\n  const FC = forwardRef<\r\n    HTMLElementTagNameMap[T],\r\n    FingerProxyHTMLContainerProps<HTMLElementTagNameMap[T]>\r\n  >(function FingerProxyContainerComponent(props, ref) {\r\n    const { eventBoundary, ...others } = props;\r\n    if (eventBoundary === false) return createElement(type, { ...others, ref });\r\n    const { eventProps } = splitProps(others);\r\n    return createElement(\r\n      FingerProxyBoundary as FunctionComponent<\r\n        FingerProxyBoundaryProps<HTMLElementTagNameMap[T]>\r\n      >,\r\n      {\r\n        ...eventProps,\r\n        children: (events) =>\r\n          createElement(type, { ...others, ...events, ref }),\r\n      }\r\n    );\r\n  });\r\n  FingerProxyContainerCache.set(type, FC);\r\n  return FC;\r\n}\r\n","/**\r\n * @homepage https://github.com/Houfeng/react-finger\r\n * @author Houfeng <houzhanfeng@gmail.com>\r\n */\r\n\r\nimport \"./core/FingerGlobal\";\r\n\r\nimport { registerFingerProvider } from \"./core/FingerProviders\";\r\n\r\nimport { FingerPinchProvider } from \"./events/FingerPinchProvider\";\r\nimport { FingerBasicProvider } from \"./events/FingerBasicProvider\";\r\nimport { FingerSwipeProvider } from \"./events/FingerSwipeProvider\";\r\nimport { FingerTapProvider } from \"./events/FingerTapProvider\";\r\nimport { FingerShortcutProvider } from \"./events/FingerShortcutProvider\";\r\n\r\nexport { FingerGlobal, bindFingerGlobalEvents } from \"./core/FingerGlobal\";\r\n\r\nexport {\r\n  type HostElement,\r\n  type HostPointerEvent,\r\n  type HostPointerEventLike,\r\n  type HostPointerEventListener,\r\n  type HostKeyboardEvent,\r\n  type HostKeyboardEventListener,\r\n  type HostFocusEvent,\r\n  type HostFocusEventListener,\r\n  type HostEvents,\r\n} from \"./core/FingerHostEvents\";\r\n\r\nexport {\r\n  type FingerPointerEvent,\r\n  type FingerPointerEvents,\r\n  type FingerPointerEventListener,\r\n  type FingerTapEvent,\r\n  type FingerSwipeEvent,\r\n  type FingerPinchEvent,\r\n} from \"./core/FingerPointerEvents\";\r\n\r\nexport {\r\n  type FingerKeyboardEvent,\r\n  type FingerKeyboardEvents,\r\n  type FingerKeyboardEventListener,\r\n  type FingerShortcutEvent,\r\n} from \"./core/FingerKeyboardEvents\";\r\n\r\nexport { composeFingerEvents } from \"./core/FingerCompose\";\r\n\r\nexport { type FingerMixEvents } from \"./core/FingerMixEvents\";\r\n\r\nexport { FingerOptions } from \"./core/FingerOptions\";\r\n\r\nexport { createFingerEvents } from \"./helpers/FingerFactory\";\r\nexport { useFingerEvents } from \"./helpers/FingerHook\";\r\n\r\nexport {\r\n  Finger,\r\n  type FingerHTMLProps,\r\n  type FingerSVGProps,\r\n} from \"./helpers/FingerHoC\";\r\n\r\nexport {\r\n  FingerProxy,\r\n  type FingerProxyProps,\r\n  FingerProxyBoundary,\r\n  type FingerProxyBoundaryProps,\r\n  FingerProxyContainer,\r\n  type FingerProxyHTMLContainerProps,\r\n  type FingerProxySVGContainerProps,\r\n} from \"./helpers/FingerProxy\";\r\n\r\nexport { type FingerForwardRefExoticComponent } from \"./helpers/FingerHelperUtils\";\r\n\r\nregisterFingerProvider(FingerPinchProvider);\r\nregisterFingerProvider(FingerSwipeProvider);\r\nregisterFingerProvider(FingerTapProvider);\r\nregisterFingerProvider(FingerBasicProvider);\r\nregisterFingerProvider(FingerShortcutProvider);\r\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","import { Finger, FingerProxy, FingerProxyContainer } from '../src';\r\nimport React, { CSSProperties } from \"react\"\r\n\r\nimport { FingerShortcutEvent } from '../src';\r\nimport { createRoot } from \"react-dom/client\";\r\n// import styled from 'styled-components'; \r\n\r\nexport const FingerBoxWrapper = FingerProxyContainer(\"div\");\r\nexport const FingeredDiv = (Finger('div'));\r\n\r\nexport const boxStyle: CSSProperties = {\r\n  margin: 'auto',\r\n  padding: 16,\r\n  borderRadius: 8,\r\n  width: 600,\r\n  height: 500,\r\n  backgroundColor: '#fff',\r\n  cursor: 'pointer',\r\n};\r\n\r\nexport const onShortcut = (event: FingerShortcutEvent) => {\r\n  //event.preventDefault();\r\n  console.log('onShortcut', event.keys);\r\n  event.when([\"meta\", \"c\"], () => {\r\n    console.log('FingerProxy onShortcut', event);\r\n  });\r\n  event.when([\"meta\", \"v\"], () => {\r\n    console.log('FingerProxy onShortcut', event);\r\n  });\r\n};\r\n\r\nexport function App() {\r\n  return (\r\n    <FingerBoxWrapper className='box' style={boxStyle} tabIndex={0}>\r\n      <FingerProxy onShortcut={onShortcut} />\r\n      <FingeredDiv\r\n        onTapHold={event => console.log('onTapHold', event)}\r\n        onDoubleTap={event => console.log('onDoubleTap', event)}\r\n        onFingerDown={event => console.log('onFingerDown', event)}\r\n        onPinch={event => console.log('onPinch', event)}\r\n        onPointerDown={event => console.log('onPointerDown', event)}\r\n      >\r\n        Tap me\r\n      </FingeredDiv >\r\n      <div>123</div>\r\n    </FingerBoxWrapper>\r\n  );\r\n}\r\n\r\nconst root = createRoot(document.getElementById(\"root\")!);\r\nroot.render(<App />);\r\n"],"names":["providers","ALL_FLAGS","CANCELED","useMemo","useLayoutEffect","forwardRef","createElement","createContext","memo","useContext","Fragment","m","React","createRoot"],"mappings":"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"}